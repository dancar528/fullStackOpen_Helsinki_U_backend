{"version":3,"sources":["components/Filter.js","components/PersonForm.js","components/Person.js","components/Persons.js","components/Notification.js","services/persons.js","components/App.js","index.js"],"names":["Filter","value","handleSearchChange","onChange","PersonForm","name","number","handleNameChange","handleNumberChange","handleFormSubmit","onSubmit","type","Person","id","handleRemovePerson","onClick","Persons","search","persons","filter","person","toLowerCase","indexOf","map","index","key","Notification","notification","message","className","baseUrl","axios","get","then","response","data","newPerson","post","personId","delete","console","log","put","App","useState","setPersons","newName","setNewName","newNumber","setNewNumber","newSearch","setNewSearch","setNotification","useEffect","personService","initialPersons","showNotification","newNotification","setTimeout","event","target","preventDefault","newNameIndex","findIndex","window","confirm","i","createdPerson","concat","personName","attributes","selectedIndex","parseInt","_","catch","error","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.5c4c5729.chunk.js","sourcesContent":["import React from 'react';\n\nconst Filter = ({ value, handleSearchChange }) => (\n    <div>\n        filter shown with <input value={value} onChange={handleSearchChange} />\n    </div>\n);\n\nexport default Filter;\n","import React from 'react';\n\nconst PersonForm = ({\n    name,\n    number,\n    handleNameChange,\n    handleNumberChange,\n    handleFormSubmit\n}) => (\n    <div>\n        <h3>Add a new</h3>\n        <form onSubmit={handleFormSubmit}>\n            <div>\n                name: <input value={name} onChange={handleNameChange} />\n            </div>\n            <div>\n                number: <input value={number} onChange={handleNumberChange} />\n            </div>\n            <div>\n                <button type=\"submit\">add</button>\n            </div>\n        </form>\n    </div>\n);\n\nexport default PersonForm;","import React from 'react';\n\nconst Person = ({ name, number, id, handleRemovePerson }) => (\n    <div>\n        <span>{name} {number}</span>\n        <button\n            id={id}\n            name={name} \n            onClick={handleRemovePerson}>Delete</button>\n    </div>\n);\n\nexport default Person;","import React from 'react';\nimport Person from './Person';\n\nconst Persons = ({ search, persons, handleRemovePerson }) => {\n    const personsFilter = search\n        ? persons.filter(person =>\n            person.name.toLowerCase().indexOf(search.toLowerCase()) !== -1\n        )\n        : persons;\n    return personsFilter.map((person, index) =>\n        <Person\n            key={index}\n            name={person.name}\n            number={person.number}\n            id={person.id}\n            handleRemovePerson={handleRemovePerson} />\n    );\n};\n\nexport default Persons;\n","import React from 'react';\n\nconst Notification = ({ notification }) => {\n    const { message, type } = notification;\n    if (message === '') {\n        return null;\n    }\n    return (\n        <div className={type}>\n            {message}\n        </div>\n    );\n};\n\nexport default Notification;\n","import axios from 'axios';\n\nconst baseUrl = '/api/persons';\n\nconst getAll = () => {\n    const request = axios.get(baseUrl)\n    return request.then(response => response.data);\n};\n\nconst create = newPerson => {\n    const request = axios.post(baseUrl, newPerson);\n    return request.then(response => response.data);\n};\n\nconst remove = personId => {\n    const request = axios.delete(`${baseUrl}/${personId}`);\n    return request.then(response =>\n        console.log('remove response', response)\n    );\n};\n\nconst update = person => {\n    const request = axios.put(`${baseUrl}/${person.id}`, person);\n    return request.then(response => response.data);\n};\n\nexport default { getAll, create, remove, update };\n","import React, { useState, useEffect } from 'react';\nimport Filter from './Filter';\nimport PersonForm from './PersonForm';\nimport Persons from './Persons';\nimport Notification from './Notification';\nimport personService from './../services/persons';\n\nconst App = () => {\n    const [persons, setPersons] = useState([]);\n    const [newName, setNewName] = useState('');\n    const [newNumber, setNewNumber] = useState('');\n    const [newSearch, setNewSearch] = useState('');\n    const [notification, setNotification] = useState({\n        message: '',\n        type: ''\n    });\n\n    useEffect(() => {\n        personService.getAll()\n            .then(initialPersons => {\n                setPersons(initialPersons);\n            });\n    }, []);\n\n    const handleNameChange = (event) => {\n        setNewName(event.target.value);\n    };\n\n    const handleNumberChange = (event) => {\n        setNewNumber(event.target.value);\n    };\n\n    const handleSearchChange = (event) => {\n        setNewSearch(event.target.value);\n    };\n\n    const handleFormSubmit = (event) => {\n        event.preventDefault();\n        const newNameIndex = persons.findIndex(person => \n            person.name.toLowerCase() === newName.toLowerCase());\n        let message = '',\n            type = '';\n        if (newNameIndex > -1) {\n            const replaceConfirm = window.confirm(\n                `${newName} is already added to phonebook, replace the old number with a new one?`);\n\n            if (replaceConfirm) {\n                const newPerson = {\n                    ...persons[newNameIndex],\n                    number: newNumber\n                };\n                personService.update(newPerson)\n                    .then(data => {\n                        message = `Replaced ${newPerson.name}`;\n                        type = 'success';\n                        setPersons(persons.map((person, i) =>\n                            i !== newNameIndex ? person : data));\n                        showNotification(message, type);\n                    });\n                return;\n            }\n            setNewName('');\n            setNewNumber('');\n            return;\n        }\n        const newPerson = {\n            name: newName,\n            number: newNumber\n        };\n        personService.create(newPerson)\n            .then(createdPerson => {\n                setPersons(persons.concat(createdPerson));\n                message = `Added ${newPerson.name}`;\n                type = 'success';\n                showNotification(message, type);\n            });\n    };\n\n    const showNotification = (message, type) => {\n        setNewName('');\n        setNewNumber('');\n        let newNotification = {\n            ...notification,\n            message: message,\n            type: type\n        };\n        setNotification(newNotification);\n        setTimeout(() => {\n            newNotification = {\n                ...notification,\n                message: '',\n                type: ''\n            };\n            setNotification(newNotification);\n        }, 5000);\n    };\n\n    const handleRemovePerson = (event) => {\n        const personName = event.target.attributes.name.value;\n        const confirmRemove = window.confirm(`Delete ${personName}?`);\n        if (!confirmRemove) return;\n\n        const personId = event.target.attributes.id.value;\n        const selectedIndex = persons.findIndex(person =>\n                person.id === parseInt(personId)\n            );\n        let message = '',\n            type = '';\n        personService.remove(personId)\n            .then(_ => {\n                setPersons(persons.filter((_, i) => i !== selectedIndex));\n            })\n            .catch(error => {\n                message = `Information of ${personName} has already been removed from server`\n                type = 'error';\n                showNotification(message, type);\n            });\n    };\n\n    return (\n        <div>\n            <h2>Phonebook</h2>\n            <Notification notification={notification} />\n            <Filter value={newSearch} handleSearchChange={handleSearchChange} />\n            <PersonForm\n                name={newName}\n                number={newNumber}\n                handleNameChange={handleNameChange}\n                handleNumberChange={handleNumberChange}\n                handleFormSubmit={handleFormSubmit} />\n            <h3>Numbers</h3>\n            <Persons\n                search={newSearch}\n                persons={persons}\n                handleRemovePerson={handleRemovePerson} />\n        </div>\n    );\n};\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './components/App';\nimport './index.css';\n\nReactDOM.render(\n    <App />,\n    document.getElementById('root')\n);\n"],"sourceRoot":""}